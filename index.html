<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Midnight Thoughts</title>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getFirestore, collection, addDoc, deleteDoc, doc, onSnapshot, setDoc, updateDoc } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSyDWB2GGz8t1jemFswGAe7cicTlbXzTGlI4",
 authDomain: "midnight-thoughts-697a5.firebaseapp.com",
 projectId: "midnight-thoughts-697a5",
 storageBucket: "midnight-thoughts-697a5.firebasestorage.app",
 messagingSenderId: "188976417708",
 appId: "1:188976417708:web:6413f982416dd015dd8809"
};

window.app = initializeApp(firebaseConfig);
window.db = getFirestore(app);
</script>

<style>
body{margin:0;font-family:Segoe UI;color:white;text-align:center;background:black;overflow-x:hidden;}
body::before{content:"";position:fixed;inset:0;z-index:-4;
background:
radial-gradient(circle at 25% 35%, rgba(160,70,255,.28), transparent 45%),
radial-gradient(circle at 70% 65%, rgba(60,200,255,.22), transparent 50%),
radial-gradient(circle at 55% 85%, rgba(255,150,60,.18), transparent 45%);
}
body::after{content:"";position:fixed;inset:0;z-index:-3;
background:
radial-gradient(1px 1px at 3% 5%, #fff, transparent),
radial-gradient(1px 1px at 7% 20%, #fff, transparent),
radial-gradient(1px 1px at 10% 40%, #fff, transparent),
radial-gradient(1px 1px at 14% 65%, #fff, transparent),
radial-gradient(1px 1px at 18% 85%, #fff, transparent),
radial-gradient(1px 1px at 25% 15%, #fff, transparent),
radial-gradient(2px 2px at 30% 35%, #fff, transparent),
radial-gradient(1px 1px at 35% 70%, #fff, transparent),
radial-gradient(2px 2px at 40% 50%, #fff, transparent),
radial-gradient(1px 1px at 45% 25%, #fff, transparent),
radial-gradient(2px 2px at 50% 80%, #fff, transparent),
radial-gradient(1px 1px at 55% 60%, #fff, transparent),
radial-gradient(2px 2px at 60% 20%, #fff, transparent),
radial-gradient(1px 1px at 65% 40%, #fff, transparent),
radial-gradient(2px 2px at 70% 70%, #fff, transparent),
radial-gradient(1px 1px at 75% 90%, #fff, transparent),
radial-gradient(2px 2px at 80% 30%, #fff, transparent),
radial-gradient(1px 1px at 85% 55%, #fff, transparent),
radial-gradient(2px 2px at 90% 75%, #fff, transparent),
radial-gradient(1px 1px at 95% 45%, #fff, transparent);
opacity:.85;}
input,textarea{width:300px;padding:10px;border-radius:10px;border:none;margin:8px;background:#111;color:white}
#box{width:380px;height:190px;margin:30px auto;border:2px dashed #6fa8ff;border-radius:20px;display:flex;align-items:center;justify-content:center;font-style:italic;font-weight:bold;background:rgba(255,255,255,.04);}
#space{position:relative;height:360px;margin-top:15px}
.star{position:absolute;background:rgba(255,255,255,.08);padding:14px 18px;border-radius:16px;cursor:grab;font-style:italic;font-weight:bold;}
.star button{float:right;background:none;border:none;color:#ffd700}
#admin{display:none}
footer{opacity:.6;font-size:.85rem;margin:35px 0}
</style>
</head>

<body>

<h1 id="title">Midnight Thoughts</h1>
<p>Curious • Learning • Questioning</p>

<p style="opacity:.6;font-size:.8rem;max-width:520px;margin:0 auto 20px">
All content here represents personal thoughts and opinions.
</p>

<div id="admin">
<input id="name" placeholder="Your name"><br>
<textarea id="msg" placeholder="Your thought"></textarea><br>
<button id="postBtn">Post</button>
</div>

<div id="box">to be updated...</div>
<div id="space"></div>

<h3>Visitor Space</h3>
<input id="vname" placeholder="Your name"><br>
<textarea id="vmsg" placeholder="Share your thought"></textarea><br>
<button id="shareBtn">Share</button>

<footer>© 2026 Amit Adhikari. All Rights Reserved.</footer>

<script type="module">
import { collection, addDoc, deleteDoc, doc, onSnapshot, setDoc, updateDoc } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

const KEY="12345a";
let logged=false, hold;
const titleEl=document.getElementById("title");
const adminEl=document.getElementById("admin");
const boxEl=document.getElementById("box");
const nameEl=document.getElementById("name");
const msgEl=document.getElementById("msg");
const postBtn=document.getElementById("postBtn");
const space=document.getElementById("space");
const vnameEl=document.getElementById("vname");
const vmsgEl=document.getElementById("vmsg");
const shareBtn=document.getElementById("shareBtn");

titleEl.onmousedown=()=>hold=setTimeout(()=>{if(!logged&&prompt("Admin key:")==KEY){logged=true;adminEl.style.display="block";}},3000);
titleEl.onmouseup=()=>clearTimeout(hold);

postBtn.onclick=async()=>{
 if(!nameEl.value||!msgEl.value) return;
 await setDoc(doc(db,"universe","main"),{main:{n:nameEl.value,t:msgEl.value}});
 nameEl.value="";msgEl.value="";
};

shareBtn.onclick=async()=>{
 if(!vnameEl.value||!vmsgEl.value) return;
 await addDoc(collection(db,"stars"),{n:vnameEl.value,t:vmsgEl.value,x:200,y:200});
 vnameEl.value="";vmsgEl.value="";
};

onSnapshot(doc(db,"universe","main"),d=>{
 if(d.exists()) boxEl.innerHTML="<b>"+d.data().main.n+"</b><br>"+d.data().main.t;
});

onSnapshot(collection(db,"stars"),snap=>{
 space.innerHTML="";
 snap.forEach(docu=>{
  let o=docu.data();
  let d=document.createElement("div");
  d.className="star"; d.style.left=o.x+"px"; d.style.top=o.y+"px";
  d.innerHTML="<b>"+o.n+"</b><br>"+o.t;
  space.appendChild(d);
 });
});
</script>

</body>
</html>
